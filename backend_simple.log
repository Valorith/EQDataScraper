/Users/rgagnier/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(
2025-07-02 08:06:16,174 - INFO - Using production database from config.json (local development)
2025-07-02 08:06:16,174 - WARNING - ‚ö†Ô∏è  Connecting to PRODUCTION database from LOCAL environment
2025-07-02 08:06:16,174 - INFO - Running in LOCAL DEVELOPMENT environment
2025-07-02 08:06:16,174 - INFO - Using PostgreSQL database for cache storage
2025-07-02 08:06:16,572 - INFO - ‚úì Database cache tables initialized successfully
2025-07-02 08:06:16,572 - INFO - === DATABASE CACHE LOADING ===
2025-07-02 08:06:17,037 - INFO - ‚úì Loaded 16 classes from database spell cache
2025-07-02 08:06:17,071 - INFO - ‚úì Loaded 1211 spells from database pricing cache
2025-07-02 08:06:17,104 - INFO - ‚úì Loaded 2 spell details from database cache
2025-07-02 08:06:17,135 - INFO - ‚úì Loaded cache metadata for 16 classes
2025-07-02 08:06:17,135 - INFO - === DATABASE CACHE LOADING COMPLETE ===
2025-07-02 08:06:17,135 - INFO - Final cache state - Spells: 16 classes, Pricing: 1211 spells, Details: 2 spells
 * Serving Flask app 'app'
 * Debug mode: off
2025-07-02 08:06:17,151 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5009
 * Running on http://192.168.40.2:5009
2025-07-02 08:06:17,151 - INFO - [33mPress CTRL+C to quit[0m
2025-07-02 08:06:26,154 - INFO - 127.0.0.1 - - [02/Jul/2025 08:06:26] "GET /api/cache-expiry-status/cleric HTTP/1.1" 200 -
2025-07-02 08:07:53,886 - INFO - Scraping fresh data for Cleric
2025-07-02 08:07:53,887 - INFO - Fetching spell data for class type 2 from https://alla.clumsysworld.com/
2025-07-02 08:07:55,905 - INFO - Successfully fetched 119993 characters of HTML
2025-07-02 08:07:55,907 - INFO - Saved temp HTML to /var/folders/f3/jf42s05d6cb0pv13m71lbsf40000gn/T/tmpqrpql7g9_cleric.html
2025-07-02 08:07:55,985 - INFO - Starting spell table parsing
2025-07-02 08:07:56,047 - INFO - Created DataFrame with 434 rows and 9 columns
2025-07-02 08:07:56,050 - INFO - Removed 217 duplicate spells
2025-07-02 08:07:56,053 - INFO - Final dataset: 217 spells, levels 1-60
2025-07-02 08:07:56,058 - INFO - === SAVING CACHE TO DATABASE ===
2025-07-02 08:07:56,304 - INFO - Saving spells cache (17 classes) to database
2025-07-02 08:07:56,947 - INFO - Saving pricing cache (1211 entries) to database
2025-07-02 08:08:05,708 - INFO - Serving cached data for Cleric (expired: False)
2025-07-02 08:08:05,710 - INFO - 127.0.0.1 - - [02/Jul/2025 08:08:05] "GET /api/spells/cleric HTTP/1.1" 200 -
2025-07-02 08:08:05,725 - INFO - 127.0.0.1 - - [02/Jul/2025 08:08:05] "GET /api/cache-expiry-status/cleric HTTP/1.1" 200 -
2025-07-02 08:08:31,979 - INFO - Saving spell details cache (2 entries) to database
2025-07-02 08:08:32,249 - INFO - ‚úì Successfully saved all cache data to database
2025-07-02 08:08:32,249 - INFO - === DATABASE CACHE SAVE COMPLETE ===
2025-07-02 08:08:32,250 - INFO - Successfully scraped 217 spells for Cleric in 2.17s
2025-07-02 08:08:32,252 - INFO - 127.0.0.1 - - [02/Jul/2025 08:08:32] "GET /api/spells/cleric HTTP/1.1" 200 -
2025-07-02 08:08:45,426 - INFO - Serving cached data for Cleric (expired: False)
2025-07-02 08:08:45,427 - INFO - 127.0.0.1 - - [02/Jul/2025 08:08:45] "GET /api/spells/cleric HTTP/1.1" 200 -
2025-07-02 08:08:45,440 - INFO - 127.0.0.1 - - [02/Jul/2025 08:08:45] "GET /api/cache-expiry-status/cleric HTTP/1.1" 200 -
2025-07-02 08:08:54,841 - INFO - 127.0.0.1 - - [02/Jul/2025 08:08:54] "GET /api/cache-status HTTP/1.1" 200 -
2025-07-02 08:08:57,877 - INFO - 127.0.0.1 - - [02/Jul/2025 08:08:57] "GET /api/cache-expiry-status/cleric HTTP/1.1" 200 -
2025-07-02 08:09:04,999 - INFO - 127.0.0.1 - - [02/Jul/2025 08:09:04] "GET /api/cache-status HTTP/1.1" 200 -
2025-07-02 08:09:08,238 - INFO - Scraping fresh data for Ranger
2025-07-02 08:09:08,238 - INFO - Fetching spell data for class type 4 from https://alla.clumsysworld.com/
2025-07-02 08:09:08,932 - INFO - Successfully fetched 69810 characters of HTML
2025-07-02 08:09:08,933 - INFO - Saved temp HTML to /var/folders/f3/jf42s05d6cb0pv13m71lbsf40000gn/T/tmpvcc9__5h_ranger.html
2025-07-02 08:09:08,996 - INFO - Starting spell table parsing
2025-07-02 08:09:09,034 - INFO - Created DataFrame with 192 rows and 9 columns
2025-07-02 08:09:09,035 - INFO - Removed 96 duplicate spells
2025-07-02 08:09:09,035 - INFO - Final dataset: 96 spells, levels 2-60
2025-07-02 08:09:09,038 - INFO - === SAVING CACHE TO DATABASE ===
2025-07-02 08:09:09,256 - INFO - Saving spells cache (18 classes) to database
2025-07-02 08:09:09,939 - INFO - Saving pricing cache (1211 entries) to database
2025-07-02 08:09:45,572 - INFO - Saving spell details cache (2 entries) to database
2025-07-02 08:09:45,780 - INFO - ‚úì Successfully saved all cache data to database
2025-07-02 08:09:45,780 - INFO - === DATABASE CACHE SAVE COMPLETE ===
2025-07-02 08:09:45,781 - INFO - Successfully scraped 96 spells for Ranger in 0.80s
2025-07-02 08:09:45,782 - INFO - 127.0.0.1 - - [02/Jul/2025 08:09:45] "GET /api/spells/ranger HTTP/1.1" 200 -
2025-07-02 08:09:53,244 - INFO - 127.0.0.1 - - [02/Jul/2025 08:09:53] "GET /api/cache-status HTTP/1.1" 200 -
2025-07-02 08:10:10,350 - INFO - 127.0.0.1 - - [02/Jul/2025 08:10:10] "GET /api/cache-status HTTP/1.1" 200 -
2025-07-02 08:10:11,996 - INFO - 127.0.0.1 - - [02/Jul/2025 08:10:11] "GET /api/cache-status HTTP/1.1" 200 -
2025-07-02 08:10:13,647 - INFO - Serving cached data for Cleric (expired: False)
2025-07-02 08:10:13,648 - INFO - 127.0.0.1 - - [02/Jul/2025 08:10:13] "GET /api/spells/cleric HTTP/1.1" 200 -
2025-07-02 08:10:13,698 - INFO - 127.0.0.1 - - [02/Jul/2025 08:10:13] "GET /api/cache-expiry-status/cleric HTTP/1.1" 200 -
2025-07-02 08:10:19,095 - INFO - 127.0.0.1 - - [02/Jul/2025 08:10:19] "GET /api/cache-status HTTP/1.1" 200 -
2025-07-02 08:10:40,788 - INFO - 127.0.0.1 - - [02/Jul/2025 08:10:40] "GET /api/cache-status HTTP/1.1" 200 -
2025-07-02 08:10:41,778 - INFO - 127.0.0.1 - - [02/Jul/2025 08:10:41] "GET /api/cache-status HTTP/1.1" 200 -
2025-07-02 08:10:42,682 - INFO - 127.0.0.1 - - [02/Jul/2025 08:10:42] "GET /api/cache-status HTTP/1.1" 200 -
2025-07-02 08:10:49,979 - INFO - Serving cached data for Cleric (expired: False)
2025-07-02 08:10:49,980 - INFO - 127.0.0.1 - - [02/Jul/2025 08:10:49] "GET /api/spells/cleric HTTP/1.1" 200 -
2025-07-02 08:10:49,996 - INFO - 127.0.0.1 - - [02/Jul/2025 08:10:49] "GET /api/cache-expiry-status/cleric HTTP/1.1" 200 -
